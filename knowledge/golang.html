<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>GoLang | miccah.io</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="GoLang" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="GoLang is a relatively new programming language. I consider it a “middle level” language because it is strictly-typed, compiled, and provides more protections than C. It also has a garbage collector, lightweight concurrency models, and builtin chan and error types." />
<meta property="og:description" content="GoLang is a relatively new programming language. I consider it a “middle level” language because it is strictly-typed, compiled, and provides more protections than C. It also has a garbage collector, lightweight concurrency models, and builtin chan and error types." />
<link rel="canonical" href="/knowledge/golang.html" />
<meta property="og:url" content="/knowledge/golang.html" />
<meta property="og:site_name" content="miccah.io" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-01T16:30:21+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="GoLang" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-01T16:30:21+00:00","datePublished":"2024-11-01T16:30:21+00:00","description":"GoLang is a relatively new programming language. I consider it a “middle level” language because it is strictly-typed, compiled, and provides more protections than C. It also has a garbage collector, lightweight concurrency models, and builtin chan and error types.","headline":"GoLang","mainEntityOfPage":{"@type":"WebPage","@id":"/knowledge/golang.html"},"url":"/knowledge/golang.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="miccah.io" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">miccah.io</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/knowledge/">Knowledge Base</a><a class="page-link" href="/posts/">Posts</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">GoLang</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-11-01T16:30:21+00:00" itemprop="datePublished">Nov 1, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>GoLang is a relatively new programming language. I consider it a
“middle level” language because it is strictly-typed, compiled, and
provides more protections than C. It also has a garbage collector,
lightweight concurrency models, and builtin <code class="language-plaintext highlighter-rouge">chan</code> and <code class="language-plaintext highlighter-rouge">error</code> types.</p>

<h2 id="hello-world">Hello World</h2>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="concurrency">Concurrency</h2>
<p>GoLang offers a concurrency model using goroutines, which are
lightweight threads managed by the Go runtime.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">// do something</span>
<span class="p">}()</span>
</code></pre></div></div>

<h2 id="channels">Channels</h2>
<p>Channels are a “typed conduit through which you can send and receive
values with the channel operator, <code class="language-plaintext highlighter-rouge">&lt;-</code>.” It is basically a buffer
to send and receive data. Sending will block when the buffer is
full, and receiving will block when the buffer is empty. By default, a
channel is unbuffered, but you can change the size on initialization.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">// create a buffered channel of length 10</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">ch</span> <span class="o">&lt;-</span> <span class="n">i</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">ch</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="maps">Maps</h2>
<p>Maps are the builtin <code class="language-plaintext highlighter-rouge">dict</code> of GoLang. They can be used to create
sets, avoid <code class="language-plaintext highlighter-rouge">O(n^2)</code> algorithms, and of course lookup tables.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// create a map</span>
<span class="n">m</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{}</span>
<span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>

<span class="c">// check item exists in map</span>
<span class="k">if</span> <span class="n">item</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">m</span><span class="p">[</span><span class="s">"hello"</span><span class="p">];</span> <span class="n">ok</span> <span class="p">{</span>
    <span class="c">// item exists</span>
<span class="p">}</span>

<span class="c">// convert an array to a set</span>
<span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">struct</span><span class="p">{},</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">item</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">arr</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="k">struct</span><span class="p">{}{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Note:</strong> Maps are not safe for concurrent use.</p>

<p><strong>Note:</strong> <code class="language-plaintext highlighter-rouge">map[T]struct{}</code> is the idiomatic way to create a set because the
size of an empty struct is 0.</p>

<h2 id="pointers">Pointers</h2>
<p>GoLang, like C, has pointers, but GoLang’s pointers are safer than
C. You cannot (easily) convert between two different pointer types,
and the pointer operator is the same as the struct operator. This
means you don’t have to worry about whether your object is a pointer
or not, you can do <code class="language-plaintext highlighter-rouge">object.Attribute</code> and GoLang will figure out
whether it needs to dereference the pointer first or not.</p>

<h2 id="methods">Methods</h2>
<p>GoLang defines struct methods using pointer receivers, which allows
for the OOP style of <code class="language-plaintext highlighter-rouge">struct.func()</code>.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>
<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">type</span> <span class="n">Example</span> <span class="kt">string</span>
<span class="k">func</span> <span class="p">(</span><span class="n">e</span> <span class="o">*</span><span class="n">Example</span><span class="p">)</span> <span class="n">Examp</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">"Examp: "</span> <span class="o">+</span> <span class="kt">string</span><span class="p">(</span><span class="o">*</span><span class="n">e</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">e</span> <span class="o">:=</span> <span class="n">Example</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">Examp</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="loops">Loops</h2>
<p>GoLang uses <code class="language-plaintext highlighter-rouge">for</code> for all types of loops. Labels can be used to
break or continue when in a nested context.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// infinite loop</span>
<span class="k">for</span> <span class="p">{</span> <span class="p">}</span>

<span class="c">// standard for loop</span>
<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span> <span class="p">}</span>

<span class="c">// while loop</span>
<span class="n">i</span> <span class="o">:=</span> <span class="m">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">{</span> <span class="n">i</span><span class="o">++</span> <span class="p">}</span>

<span class="c">// iterate over slice</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">slice</span> <span class="p">{</span> <span class="p">}</span>

<span class="c">// iterate over a map</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span> <span class="p">}</span>

<span class="c">// labeled loop</span>
<span class="n">loop</span><span class="o">:</span>
<span class="k">for</span> <span class="p">{</span>
    <span class="k">break</span> <span class="n">loop</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="interfaces">Interfaces</h2>
<p>Go uses interfaces for a sort of “duck typing.” An interface is defined as a
group of methods that must exist on a concrete type. They are generally best
used as inputs for a library to allow users to implement and use their own
types.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">Example</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">Examp</span><span class="p">()</span> <span class="kt">string</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Note:</strong> The empty interface <code class="language-plaintext highlighter-rouge">interface{}</code> (now known as <code class="language-plaintext highlighter-rouge">any</code>) is a way to
accept any possible type.</p>

<p>An interface can be used in place of a concrete type, but only the methods
defined in the interface will be accessible. If you want the underlying type
of an interface, type coercion can be used.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">Foo</span> <span class="k">struct</span> <span class="p">{</span> <span class="n">id</span> <span class="kt">int</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">f</span> <span class="n">Foo</span><span class="p">)</span> <span class="n">Examp</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
	<span class="k">return</span> <span class="s">"Foo!"</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">doSomething</span><span class="p">(</span><span class="n">e</span> <span class="n">Example</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">Examp</span><span class="p">())</span>
	<span class="k">if</span> <span class="n">f</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">e</span><span class="o">.</span><span class="p">(</span><span class="n">Foo</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"e is Foo with ID"</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="generics">Generics</h2>
<p>As of Go 1.18, generics exist in the language for very limited use cases. The
idea being that generics would be a solution for code that you would need to
generate for different types. Generics in Go aren’t fully monomorphized in
order to keep fast compile times. Most of the time, generics will be resolved
at runtime.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">add</span><span class="p">[</span><span class="n">T</span> <span class="err">~</span><span class="kt">int</span> <span class="o">|</span> <span class="err">~</span><span class="kt">float64</span><span class="p">](</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="n">T</span><span class="p">)</span> <span class="n">T</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Note:</strong> <code class="language-plaintext highlighter-rouge">~</code> is referencing the underlying type.</p>

<p>Generics can be constrained by interfaces as well. See the
<a href="https://pkg.go.dev/golang.org/x/exp/constraints">exp/constraints</a> package for
some useful constraints.</p>

<h2 id="style">Style</h2>
<p>GoLang has a very opinionated style.</p>

<ul>
  <li>Tabs not spaces</li>
  <li>Capitalized functions and attributes are considered exported</li>
  <li>Exported code should have a comment explaining it (code is also docs)</li>
  <li><code class="language-plaintext highlighter-rouge">{</code> on the same line</li>
</ul>

<h2 id="unit-tests-and-benchmarks">Unit Tests and Benchmarks</h2>
<p>GoLang has builtin support for unit tests and benchmarking. Test
files should end in <code class="language-plaintext highlighter-rouge">_test.go</code> for Go to automatically find them.
Functions must start with <code class="language-plaintext highlighter-rouge">Test</code> or <code class="language-plaintext highlighter-rouge">Benchmark</code> as well. Run with
<code class="language-plaintext highlighter-rouge">go test -bench .</code>.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"testing"</span>

<span class="k">func</span> <span class="n">TestExamp</span><span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">testing</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">e</span> <span class="o">:=</span> <span class="n">Example</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>
    <span class="n">got</span> <span class="o">:=</span> <span class="n">e</span><span class="o">.</span><span class="n">Examp</span><span class="p">()</span>
    <span class="n">want</span> <span class="o">:=</span> <span class="s">"Examp: hello"</span>

    <span class="k">if</span> <span class="n">got</span> <span class="o">!=</span> <span class="n">want</span> <span class="p">{</span>
        <span class="n">t</span><span class="o">.</span><span class="n">Errorf</span><span class="p">(</span><span class="s">"got %s, want %s"</span><span class="p">,</span> <span class="n">got</span><span class="p">,</span> <span class="n">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">BenchmarkExamp</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span><span class="n">testing</span><span class="o">.</span><span class="n">B</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">e</span> <span class="o">:=</span> <span class="n">Example</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">b</span><span class="o">.</span><span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">Examp</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="tools">Tools</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">go build</code>: build Go binaries</li>
  <li><code class="language-plaintext highlighter-rouge">go test</code>: unit tests</li>
  <li><code class="language-plaintext highlighter-rouge">go fmt</code>: format code according to the Go style</li>
  <li><code class="language-plaintext highlighter-rouge">go get</code>: install remote packages</li>
  <li><code class="language-plaintext highlighter-rouge">go vet</code>: static code analyzer</li>
  <li><code class="language-plaintext highlighter-rouge">go run</code>: shortcut to build and execute code</li>
</ul>

  </div><a class="u-url" href="/knowledge/golang.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">miccah.io</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">miccah.io</li><li><a class="u-email" href="mailto:contact@miccah.io">contact@miccah.io</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/mcastorina"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">mcastorina</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A website for all my creations, thoughts, and projects. This website will serve as a collection of my interests, ideas, and lessons I have learned over time.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
